CIDR - Classless interdomain routing 

CIDR (Classless Inter-Domain Routing) -- also known as supernetting -- is a method of assigning Internet Protocol (IP) addresses
that improves the efficiency of address distribution and replaces the previous system based on Class A, Class B and Class C networks.

Subnet is a segment of a VPC that lives entirely within an availability zone

Subnets cannot span more than one AZ
Subnets can be public, private and VPN

Default VPC CIDR block is 172.31.0.0/16

AWS recommends in choosing a private addressing space is shown below;

192.168.0.0 - 192.168.255.255 (Offers 1 /16 Range)
172.16.0.0 - 172.31.255.255 (Offers 16 /16 Range)
10.0.0.0 - 10.255.255.255 (Offers 256 /16 Range)


NACL operates on a subnet level
When creating a subnet the smallest subnet range you can have is /28 netmask and the largest is /16 netmask
AWS reserves the first four IP address and the last IP address of the subnet. So fice address is lawyas reserved


VPC Routing (Higly Available) Defautl static route in each subnet is nothing but VPC routing

This is the first place where packets hit while leaving resources that are in a VPC/Subnet
VPC router is presented in all the subnets we creates

AWS IP Reservation -

10.0.0.0 -> Network Address
10.0.0.1 -> Reserved by the AWS for VPC router
10.0.0.2 -> The IP address of the DNS server
10.0.0.3 -> Reserved for future use
10.0.0.255 -> Network broadcast address

Best practices is to create custom route tables for each subnet


ENI by default attached to an instance when an instance created.
This cannot be detached

IGW can be attached to a single VPC
Elastic IP is a public IP associated with a region

NACL are applied to subnet - Process the traffic before it enters or leaves the subnet - stateless
SG are applied to ENI or instance - statefull

Ephermal port - Temperory ports

You can use multiple SG to a single ENI

Two endpoints -

Gateway end point - S3 & DynamoDB
Interface End point - Cover most of the AWS services. Which is powered by AWS private link

Endpoints are region scoped service
You cannot create a VPC endpoint for a VPC in different region than where the S3 is located
You can multiple endpoints in the same VPC even for the same service

VPC peering use to communicate with other VPC
VPC peering should be accepted by the other VPC

Capture information about IP traffic sessions processed by elastic network interfaces in your VPC
Flowlogs may be defined for VPC, Subnet, ENI

If in flowlogs, we defined subnet, all ENIs in the subnet will send logs to VPC

Flowlog data may be send to S3 and cloudwatch log group

Data reporting is not real time
Flowlogs operates layer 3 and layer 4 OSI model
Does not capture application data

Network Performance

What is HPC?

This allows us to basically take advantage of clusters of computers that perform some tasks that allows us to transmit and process mass amounts of data.

3 Options for HPC network performance

Instance type
Placement groups
Enable enhanced networking

ENA will give 100 GBPS
Intel 82599 virtual function interace


You can use jumbo frames (Inside the AZ servers) MTU 9001, but if the packets are going out of VPC, then it will be 1500 MTU

Route 53 is an authorative name server
Routing policies are attached with health check

Simple - plain and simple routing. default routing policy
Weighted policy. Multiple resources performing the same function. You can move 20% of traffic  to one webserver and 80% traffic to other webserver














