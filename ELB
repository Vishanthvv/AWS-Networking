ELB is a regional resource, HA, Autoscale for workloads, can terminate HTTP/TLS connections which will offload 
Single logical target for service request
It is AWS managed platform as a service (Paas)
Regional resource
Three types 

Application load balancer - http/https - Works on layer 7
X-forwarded headers - Contianing information about the original requesdt client
X-forwarded-for - Provide information about the original IPaddress
X-forwarded-Proto - Provide information about the protocols used
X forwarded-Port - provide the information about the port


Network load balancer - TCP/UDP - Works on layer 4  - Route request by protocol and port number
Classic load balancer - Layer 4 & layer 7 - https/https/tcp/tls - Route request by protocol and port number

Gateway loal balancer - Works with application that operates inline with network traffic
Uses GENEVE protocol to encapsulate the traffic
Layer 3 gateway
Once traffic reaches GWLB, then it will function like layer 4
All data forwarded to target group
Encapsulated using GENEVE protocol
No IPV6 support
No encrypt/decrypt
Single listener accepts all traffic
Must use GENEVE Protocol and th eport number cannot be changed - Port (6081)
Support flow stickness
Accesible only as VPC endpoint services
No FQDN
Ingress and TGW is fully supported




Targets should be in the same region but can be in different AZ
Target group is a logical containers of targets

However, CLB will not target or target group

Each ELB must be associated with a single VPC
Requests are sent to AWS assigned FQDN

Elastic Load Balancers are an important part of highly available application architectures within AWS.
Load balancer types are optimized for different kinds of workloads.
Listeners define what kind of traffic load balancers should process, and target groups identify possible targets and the type of traffic they are expecting.

ELB Target Groups

Three types of target types;

Instance
IP address
Lambda function
Once a target group has been created, the selected target type cannot be changed.

Only 1 protocol and port number may be configured per target group. Target groups may support HTTP, HTTPS, TCP, TLS, UDP, TCP_UDP,

With HTTP and HTTPS for application load balancers, TCP, TLS, UDP, and TCP_UDP for network load balancers, and the Geneve protocol for gateway load balancers.

When using Lambda targets, health checks are optional, as each health check would count as a request made to the Lambda function.
Session stickness is disabled by default

ELB genertaed cookie name - AWSELB & AWSALB
If we are using a classic load balancer. All data in the cookie will be encrypted by the elastic load balancer so even we won't be able to see it.

When using application-based cookies, the cookie will be generated by 1 of the instances of the target application, and the name of that cookie must be configured
within the target group's stickiness settings

Please note sticky session enabling will prevent efficient load balancing routing

You should consider preserving that session state data on an off-layer system, such as a Redis cache, or AWS's DynamoDB.

Xforwarded headers - Non standard http headers

X-Forwarded headers will contain information from the original client request handled by our Application Load Balancer.
Application Load Balancers can tell us about the original IP address in X-Forwarded-For, the protocol being used in X-Forwarded-Proto,
and the original requesting port with X-Forwarded-Port. The application on your backend target can be configured to use the values within these headers.

In ALB, HTTPS listeners may also be configured to perform an additional authenticate action.
This allows you to offload the responsibility for managing authentication from the backend target to the Application Load Balancer,
provided you are using Amazon Cognito, or an open ID Connect-compliant provider.

Request can be conditionlay forwarded to one or more target groups by reading request header count


Network Load Balancer
Once assigned the static IP cannot be changed

Deregistration delay - Is basically how much is alloted for the draining resource to complete the task
Preserve client IP address is same as X FORWARDER FOR

CLB support ec2 classic


VPC endpoint services uses NLB and Gateway load balancer and not CLB AND ALB
Consumer and provider VPC must be in the same region

VPC endpoint services allow VPC-hosted services to be accessed by other AWS principles.
Consumers access endpoint services by creating interface endpoints in their own VPCs.
Providers can approve access manually, automatically for select AWS principles, or automatically for all requests.
And once the request has been approved, consumer request traffic is directed to the endpoint either by DNS name,
in the case of network load balance frontend services, or by route table, in the case of gateway load balancer frontend services.

In Application load balancer listener section, if you are using https then you need to select the certificate and in actions there is an authenticate tab. 
This will offloads authentication from target client. Authentication mechanism used are Amazon cognito and OIDC (Open ID connect)
Request can be conditionlally forwarded to one or more  target groups by reading request header content

VPC endpoint do not use ALB and Classic load balancer
VPC endpoints uses Gateway load balancer and Networjk load balancer

In end point services, IPV4 traffic is over TCP only











